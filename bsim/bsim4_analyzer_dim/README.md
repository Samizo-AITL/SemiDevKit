# BSIM4_ANALYZER_DIM  
**Automatic BSIM4 Analysis Tool for CMOS 130nm DIM (L/W Sweep)**  
âš¡ DIM-based model generation with Short-Channel Effects (SCE) + Fully Automated Analysis Flow

---

# ğŸ“˜ Overview

BSIM4_ANALYZER_DIM is a Python + ngspice environment for performing **automatic L/W sweep analysis**  
of MOSFET **Vgâ€“Id** and **Vdâ€“Id** characteristics based on BSIM4 models.

The tool generates netlists, runs ngspice, extracts model parameters, and outputs plots *fully automatically*.

In addition, the DIM model generation step incorporates **Short-Channel Effects (SCE)**, enabling realistic  
130nm device behavior:

- Vth roll-off  
- DIBL  
- Mobility degradation  
- Ion / Ioff dependence on L & W  

This enables dimension-aware device modeling for education, research, and standard-cell engineering.

---

# ğŸ“ Directory Structure

```
BSIM4_ANALYZER_DIM/
â”‚
â”œâ”€ models/
â”‚   â”œâ”€ 130nm_nmos_lxxx.sp
â”‚   â”œâ”€ 130nm_nmos_wxxx.sp
â”‚   â”œâ”€ 130nm_pmos_lxxx.sp
â”‚   â””â”€ 130nm_pmos_wxxx.sp
â”‚
â”œâ”€ templates/
â”‚   â”œâ”€ template_vg_dim.cir
â”‚   â””â”€ template_vd_dim.cir
â”‚
â”œâ”€ run/
â”‚   â”œâ”€ run_vg_dim.py
â”‚   â””â”€ run_vd_dim.py
â”‚
â”œâ”€ plot/
â”‚   â”œâ”€ plot_vg_dim.py
â”‚   â””â”€ plot_vd_dim.py
â”‚
â””â”€ results/
    â””â”€ 130nm/
        â”œâ”€ l_vg/
        â”œâ”€ w_vg/
        â”œâ”€ l_vd/
        â””â”€ w_vd/
```

---

# âš™ Analysis Conditions

### Temperature  
- RT = 25Â°C

### Technology  
- CMOS 130nm

### L Sweep (W = 1 Âµm fixed)  
```
0.10, 0.13, 0.16, 0.20, 0.50, 1.00 Âµm
```

### W Sweep (L = 0.13 Âµm fixed)  
```
0.50, 1.00, 2.00, 5.00, 10.00 Âµm
```

Both **NMOS and PMOS** are fully analyzed.

---

# ğŸš€ How to Run

### â–  Vgâ€“Id Sweep
```
python run/run_vg_dim.py
```

### â–  Vdâ€“Id Sweep
```
python run/run_vd_dim.py
```

---

# ğŸ“Š Example Output Files

From:
```
results/130nm/l_vg/
```

You will see files such as:

```
130nm_nmos_L013_vg.cir
130nm_nmos_L013_vg.dat
130nm_nmos_L013_vg.csv
130nm_nmos_L013_vg.log
130nm_nmos_L013_vg.png  (generated by plot_vg_dim.py)
```

---

# ğŸ§© Template Specifications

## â–  `template_vg_dim.cir`
- Gate sweep (`.dc VG`)
- Uses `wrdata` to store Vg and Id
- Automatically unifies NMOS/PMOS current sign

## â–  `template_vd_dim.cir`
- Drain sweep (`.dc VDSRC`)
- NMOS: Id = I(d) (positive direction)
- PMOS: Id sign inverted to match NMOS convention

---

# ğŸ“ˆ Extracted Parameters

## â–  From Vgâ€“Id
- **Vth_gmmax** â€” threshold voltage using gm-maximum method  
- **gmmax** â€” peak transconductance

## â–  From Vdâ€“Id
- **Id_lin** â€” linear-region current  
- **Id_sat** â€” saturation-region current  
- **Vdsat_approx** â€” approximate Vdsat based on curvature change

---

# ğŸ”¬ DIM Model Generation with SCE Effects

`generate_dim_models.py` adjusts BSIM4 parameters based on device dimensions (L & W)  
to reproduce short-channel physics realistically.

### âœ” Vth Roll-off  
- Shorter L â†’ reduced **VTH0**

### âœ” DIBL  
Enhanced:
- **PDIBLC1**, **PDIBLC2**, **ETA0** for short-channel devices

### âœ” Mobility Degradation  
- **U0** reduced for shorter L  
- **VSAT** increased to reflect faster saturation behavior

### âœ” Narrow-Width Effect  
- Smaller W increases Vth  
- W-dependent adjustment of **VTH0** and **RDSW**

These adjustments produce realistic L/W dependence of:
- Ion / Ioff  
- Vth  
- gm  
- Vdâ€“Id curves  

---

# ğŸ“˜ Why DIM Analysis Is Important

The framework enables exploration of:

- Short-Channel Effects (SCE)  
- DIBL behavior  
- Vth roll-off  
- gm dependence on L/W  
- Ion / Ioff variation  
- SRAM Î² ratio design  
- Standard-cell drive strength  
- Process/device education and training  

---

# ğŸ“ Reference Examples (Screenshots)

---

## â–  Vg-Id (L Sweep, NMOS, Linear)
![Idâ€“Vg NMOS L-sweep](/assets/bsim4_analyzer_dim/nmos_vgid.png)

---

## â–  Vd-Id (L Sweep, NMOS, Linear)
![Idâ€“Vd NMOS L-sweep](/assets/bsim4_analyzer_dim/nmos_vdid.png)

---

## â–  L vs. Id_sat (NMOS)
![Id_sat vs L NMOS](/assets/bsim4_analyzer_dim/nmos_idsat.png)

---

# ğŸ—‚ Version

```
Version: 1.0 (DIM Base / SCE Adjusted)
Last Update: 2025-01
```

---

# ğŸ“„ Hybrid License

| Item | License | Description |
|------|---------|-------------|
| **Source Code** | MIT License | Free to use, modify, redistribute |
| **Documentation / Text Materials** | CC BY 4.0 | Attribution required |
| **Figures / Plots / Generated Data** | CC BY-NC 4.0 | Non-commercial use only |
| **External Model References** | Original license applies | Cite properly |

---

# ğŸ‘¤ Author

**Shinichi Samizo**  
BSIM4_ANALYZER_DIM Project  
Samizo-Lab / Device Modeling & TCAD Research
