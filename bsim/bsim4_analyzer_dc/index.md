---
layout: default
title: bsim4_analyzer_dc
---

----

# ğŸ“˜ BSIM4_ANALYZER_DC

---

##  Links

| Language | GitHub Pages ğŸŒ | GitHub ğŸ’» |
|----------|----------------|-----------|
| ğŸ‡ºğŸ‡¸ English | [![GitHub Pages EN](https://img.shields.io/badge/GitHub%20Pages-English-brightgreen?logo=github)](https://samizo-aitl.github.io/SemiDevKit/bsim/bsim4_analyzer_dc/) | [![GitHub Repo EN](https://img.shields.io/badge/GitHub-English-blue?logo=github)](https://github.com/Samizo-AITL/SemiDevKit/tree/main/bsim/bsim4_analyzer_dc) |

---

**Automated DC Analysis Tool for BSIM4 MOSFET Models (Vgâ€“Id / Vdâ€“Id)**

This tool was originally developed for semiconductor device engineering education,  
but is also designed with **future commercial MOSFET parameter analysis applications** in mind.

The system currently supports **130nm CMOS (NMOS/PMOS)**.  
The folder `results/90nm/` is intentionally empty and reserved for **future feature expansion**.  
Extending the current 130nm analysis flow to 90nm is straightforward.

---

# ğŸ“š Features

- âœ” **Automated analysis pipeline:** BSIM4 MOS model Ã— ngspice Ã— Python  
- âœ” **DC characteristics for NMOS/PMOS (130nm):** Vgâ€“Id (VGID) / Vdâ€“Id (VDID)  
- âœ” **Automatic extraction of key parameters:** Vth, gmmax, Idlin, Idsat  
- âœ” **Auto-generated log/lin PNG plots**  
- âœ” Suitable for **education, compact modeling research, and commercial analysis tools**  
- âœ” Easily extendable to **90nm** using template duplication

---

# ğŸ“ Directory Structure

```
BSIM4_ANALYZER_DC/
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ nmos130.sp
â”‚   â””â”€â”€ pmos130.sp
â”‚
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ template_vgid.cir
â”‚   â””â”€â”€ template_vdid.cir
â”‚
â”œâ”€â”€ run/
â”‚   â”œâ”€â”€ run_vgid.py
â”‚   â””â”€â”€ run_vdid.py
â”‚
â”œâ”€â”€ plot/
â”‚   â”œâ”€â”€ plot_vgid.py
â”‚   â””â”€â”€ plot_vdid.py
â”‚
â”œâ”€â”€ results/
â”‚   â”œâ”€â”€ 130nm/
â”‚   â”‚   â”œâ”€â”€ vgid/
â”‚   â”‚   â””â”€â”€ vdid/
â”‚   â””â”€â”€ 90nm/           # â† Reserved for future expansion
â”‚
â”œâ”€â”€ bsim4.out
â””â”€â”€ README.md
```

---

# ğŸš€ Usage

## â–  Requirements

- Python **3.10+**
- ngspice  
- Required Python packages:
  ```
  numpy
  matplotlib
  pandas   (optional)
  ```

---

## â–  Running Simulations

### â— Vgâ€“Id (VGID)
```
python run/run_vgid.py
```

### â— Vdâ€“Id (VDID)
```
python run/run_vdid.py
```

---

## â–  Generating Plots

### â— Vgâ€“Id
```
python plot/plot_vgid.py
```

### â— Vdâ€“Id
```
python plot/plot_vdid.py
```

---

# ğŸ“Š Output Files (with extracted parameters)

The tool processes raw ngspice `.dat` files and automatically extracts  
**important DC parameters**, saving them as CSV files.

---

## â–  VGID Parameter Extraction (Vgâ€“Id)

| Parameter | Description | Method |
|-----------|-------------|--------|
| **Vth (gmmax method)** | Threshold voltage | Vg at gm maximum |
| **gmmax** | Maximum transconductance | max(dId/dVg) |

CSV example:
```
device,corner,Vth_gmmax,gmmax
nmos,HT,0.478,0.00123
pmos,RT,-0.512,0.00101
```

---

## â–  VDID Parameter Extraction (Vdâ€“Id)

| Parameter | Description | Method |
|-----------|-------------|--------|
| **Idlin** | Linear-region Id | Low-Vd current (e.g., 50 mV) |
| **Idsat** | Saturation-region Id | High-Vd current (â‰ˆ Vdd) |

CSV example:
```
device,corner,Idlin,Idsat
nmos,LT,1.23e-5,2.88e-4
pmos,RT,-9.88e-6,-2.42e-4
```

---

# ğŸ“¦ Output File Types

- `.csv` â€” extracted parameters  
- `.dat` â€” raw ngspice numeric output  
- `.png` â€” plots (linear & log scale)  
- `.cir` â€” executed circuit input file  
- `.log` â€” ngspice log  

Example:
```
130nm_nmos_vgid_HT.csv
130nm_nmos_vgid_log.png
130nm_pmos_vdid_LT.csv
130nm_pmos_vgid_lin.png
```

---

# ğŸ§© Parameter Extraction Algorithms

## â— Vth (gmmax method)
1. Load Idâ€“Vg curve  
2. Compute gm = dId/dVg  
3. Identify Vg where gm is maximum â†’ **Vth**  
4. Record gmmax  

---

## â— Idlin / Idsat
- **Idlin** = Id at low Vd (linear region)  
- **Idsat** = Id at high Vd (saturation region)  
(Vd conditions defined in `template_vdid.cir`)

---

# ğŸ”§ 90nm Node (Future Extension)

`results/90nm/` is reserved for expansion.  
To add 90nm support, simply:

- Add 90nm models under `models/`  
- Duplicate cir templates and rename  
- Modify run scripts for the new node  

The structure is intentionally built for **future commercial scalability**.

---

## ğŸ“ˆ Example Plots Generated by BSIM4_ANALYZER_DC

The following figures are automatically produced by the  
BSIM4 DC Analyzer (Vgâ€“Id / Vdâ€“Id) for **130nm NMOS/PMOS** devices.  
They demonstrate the toolâ€™s ability to generate device characteristics  
across temperature corners (LT / RT / HT).

---

### â–¶ NMOS â€” Vgâ€“Id (VGID, Linear Region)

Shows the gate-voltage sweep (Idâ€“Vg) under linear Vd bias for NMOS,  
revealing threshold voltage and mobility temperature dependence.

<img src="https://samizo-aitl.github.io/SemiDevKit/assets/bsim4_analyzer_dc/nmos_vgid.png" width="80%">

---

### â–¶ NMOS â€” Vdâ€“Id (VDID)

Illustrates output characteristics (Idâ€“Vd) at fixed Vgs,  
showing linear-to-saturation transition.

<img src="https://samizo-aitl.github.io/SemiDevKit/assets/bsim4_analyzer_dc/nmos_vdid.png" width="80%">

---

### â–¶ PMOS â€” Vgâ€“Id (VGID, Linear Region)

The PMOS transfer curve, plotted with SPICE polarity,  
showing temperature effects on |Vth| and hole mobility.

<img src="https://samizo-aitl.github.io/SemiDevKit/assets/bsim4_analyzer_dc/pmos_vgid.png" width="80%">

---

### â–¶ PMOS â€” Vdâ€“Id (VDID)

PMOS output characteristics (Idâ€“Vd), SPICE-polarity plotted.  
Useful for extracting Idlin/Idsat and channel-length modulation trends.

<img src="https://samizo-aitl.github.io/SemiDevKit/assets/bsim4_analyzer_dc/pmos_vdid.png" width="80%">

---

These plots serve as **reference examples** for BSIM4 parameter exploration,  
educational MOSFET modeling exercises, and future integration into  
commercial MOSFET analysis tools.

---

# ğŸ“„ Hybrid License

This repository adopts a **Hybrid License** model:

| Item | License | Description |
|------|---------|-------------|
| **Source Code** | MIT License | Free to use, modify, and redistribute |
| **Documentation / Text Materials** | CC BY 4.0 | Attribution required |
| **Figures / Plots / Generated Images** | CC BY-NC 4.0 | Non-commercial use only |
| **External References** | Original license applies | Cite properly |

---

# ğŸ“Œ To-Do / Future Development

- Official support for **90nm**  
- Additional extraction metrics (Î¼eff, Î», ro, Vdsat, gm/Id, etc.)  
- Temperature sweep support  
- GUI edition (lecture / commercial use)  
- Multi-process comparison tool  
- BSIM parameter fitting engine  

---

## ğŸ‘¤ Author

| ğŸ“Œ Item | Details |
|--------|---------|
| **Name** | Shinichi Samizo |
| **GitHub** | [![GitHub](https://img.shields.io/badge/GitHub-Samizo--AITL-blue?style=for-the-badge&logo=github)](https://github.com/Samizo-AITL) |

